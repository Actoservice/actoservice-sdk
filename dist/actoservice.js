!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],e):e(t["actoservice-sdk"]={},t.React)}(this,function(t,r){"use strict";var u="default"in r?r.default:r,g=Array.isArray,e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(t,e){return t(e={exports:{}},e.exports),e.exports}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},a=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}(),c=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},f=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},s="object"==o(e)&&e&&e.Object===Object&&e,l="object"==("undefined"==typeof self?"undefined":o(self))&&self&&self.Object===Object&&self,p=s||l||Function("return this")(),v=p.Symbol,h=Object.prototype,d=h.hasOwnProperty,y=h.toString,b=v?v.toStringTag:void 0;var _=function(t){var e=d.call(t,b),n=t[b];try{t[b]=void 0}catch(t){}var r=y.call(t);return e?t[b]=n:delete t[b],r},j=Object.prototype.toString;var m=function(t){return j.call(t)},O=v?v.toStringTag:void 0;var w=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":O&&O in Object(t)?_(t):m(t)};var A=function(t){return null!=t&&"object"==(void 0===t?"undefined":o(t))};var C=function(t){return"symbol"==(void 0===t?"undefined":o(t))||A(t)&&"[object Symbol]"==w(t)},E=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,S=/^\w*$/;var T=function(t,e){if(g(t))return!1;var n=void 0===t?"undefined":o(t);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!C(t))||S.test(t)||!E.test(t)||null!=e&&t in Object(e)};var k=function(t){var e=void 0===t?"undefined":o(t);return null!=t&&("object"==e||"function"==e)};var P,x=function(t){if(!k(t))return!1;var e=w(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},M=p["__core-js_shared__"],z=(P=/[^.]+$/.exec(M&&M.keys&&M.keys.IE_PROTO||""))?"Symbol(src)_1."+P:"";var q=function(t){return!!z&&z in t},R=Function.prototype.toString;var F=function(t){if(null!=t){try{return R.call(t)}catch(t){}try{return t+""}catch(t){}}return""},I=/^\[object .+?Constructor\]$/,$=Function.prototype,V=Object.prototype,B=$.toString,D=V.hasOwnProperty,U=RegExp("^"+B.call(D).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var L=function(t){return!(!k(t)||q(t))&&(x(t)?U:I).test(F(t))};var H=function(t,e){return null==t?void 0:t[e]};var N=function(t,e){var n=H(t,e);return L(n)?n:void 0},W=N(Object,"create");var G=function(){this.__data__=W?W(null):{},this.size=0};var J=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},K=Object.prototype.hasOwnProperty;var Q=function(t){var e=this.__data__;if(W){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return K.call(e,t)?e[t]:void 0},X=Object.prototype.hasOwnProperty;var Y=function(t){var e=this.__data__;return W?void 0!==e[t]:X.call(e,t)};var Z=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=W&&void 0===e?"__lodash_hash_undefined__":e,this};function tt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}tt.prototype.clear=G,tt.prototype.delete=J,tt.prototype.get=Q,tt.prototype.has=Y,tt.prototype.set=Z;var et=tt;var nt=function(){this.__data__=[],this.size=0};var rt=function(t,e){return t===e||t!=t&&e!=e};var ot=function(t,e){for(var n=t.length;n--;)if(rt(t[n][0],e))return n;return-1},it=Array.prototype.splice;var at=function(t){var e=this.__data__,n=ot(e,t);return!(n<0||(n==e.length-1?e.pop():it.call(e,n,1),--this.size,0))};var ut=function(t){var e=this.__data__,n=ot(e,t);return n<0?void 0:e[n][1]};var ct=function(t){return-1<ot(this.__data__,t)};var ft=function(t,e){var n=this.__data__,r=ot(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function st(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}st.prototype.clear=nt,st.prototype.delete=at,st.prototype.get=ut,st.prototype.has=ct,st.prototype.set=ft;var lt=st,pt=N(p,"Map");var vt=function(t){var e=void 0===t?"undefined":o(t);return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var ht=function(t,e){var n=t.__data__;return vt(e)?n["string"==typeof e?"string":"hash"]:n.map};var dt=function(t){var e=ht(this,t).delete(t);return this.size-=e?1:0,e};var yt=function(t){return ht(this,t).get(t)};var gt=function(t){return ht(this,t).has(t)};var bt=function(t,e){var n=ht(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function _t(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}_t.prototype.clear=function(){this.size=0,this.__data__={hash:new et,map:new(pt||lt),string:new et}},_t.prototype.delete=dt,_t.prototype.get=yt,_t.prototype.has=gt,_t.prototype.set=bt;var jt=_t,mt="Expected a function";function Ot(i,a){if("function"!=typeof i||null!=a&&"function"!=typeof a)throw new TypeError(mt);var t=function t(){var e=arguments,n=a?a.apply(this,e):e[0],r=t.cache;if(r.has(n))return r.get(n);var o=i.apply(this,e);return t.cache=r.set(n,o)||r,o};return t.cache=new(Ot.Cache||jt),t}Ot.Cache=jt;var wt=Ot;var At=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ct=/\\(\\)?/g,Et=function(t){var e=wt(t,function(t){return 500===n.size&&n.clear(),t}),n=e.cache;return e}(function(t){var o=[];return 46===t.charCodeAt(0)&&o.push(""),t.replace(At,function(t,e,n,r){o.push(n?r.replace(Ct,"$1"):e||t)}),o});var St=function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o},Tt=1/0,kt=v?v.prototype:void 0,Pt=kt?kt.toString:void 0;var xt=function t(e){if("string"==typeof e)return e;if(g(e))return St(e,t)+"";if(C(e))return Pt?Pt.call(e):"";var n=e+"";return"0"==n&&1/e==-Tt?"-0":n};var Mt=function(t){return null==t?"":xt(t)};var zt=function(t,e){return g(t)?t:T(t,e)?[t]:Et(Mt(t))};var qt=function(t){if("string"==typeof t||C(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e};var Rt=function(t,e){for(var n=0,r=(e=zt(e,t)).length;null!=t&&n<r;)t=t[qt(e[n++])];return n&&n==r?t:void 0};var Ft=function(t,e,n){var r=null==t?void 0:Rt(t,e);return void 0===r?n:r};var It=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n};var $t=function(t){return this.__data__.get(t)};var Vt=function(t){return this.__data__.has(t)};var Bt=function(t,e){var n=this.__data__;if(n instanceof lt){var r=n.__data__;if(!pt||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new jt(r)}return n.set(t,e),this.size=n.size,this};function Dt(t){var e=this.__data__=new lt(t);this.size=e.size}Dt.prototype.clear=function(){this.__data__=new lt,this.size=0},Dt.prototype.delete=It,Dt.prototype.get=$t,Dt.prototype.has=Vt,Dt.prototype.set=Bt;var Ut=Dt;var Lt=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t},Ht=function(){try{var t=N(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();var Nt=function(t,e,n){"__proto__"==e&&Ht?Ht(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},Wt=Object.prototype.hasOwnProperty;var Gt=function(t,e,n){var r=t[e];Wt.call(t,e)&&rt(r,n)&&(void 0!==n||e in t)||Nt(t,e,n)};var Jt=function(t,e,n,r){var o=!n;n||(n={});for(var i=-1,a=e.length;++i<a;){var u=e[i],c=r?r(n[u],t[u],u,n,t):void 0;void 0===c&&(c=t[u]),o?Nt(n,u,c):Gt(n,u,c)}return n};var Kt=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r};var Qt=function(t){return A(t)&&"[object Arguments]"==w(t)},Xt=Object.prototype,Yt=Xt.hasOwnProperty,Zt=Xt.propertyIsEnumerable,te=Qt(function(){return arguments}())?Qt:function(t){return A(t)&&Yt.call(t,"callee")&&!Zt.call(t,"callee")};var ee=function(){return!1},ne=n(function(t,e){var n=e&&!e.nodeType&&e,r=n&&t&&!t.nodeType&&t,o=r&&r.exports===n?p.Buffer:void 0,i=(o?o.isBuffer:void 0)||ee;t.exports=i}),re=/^(?:0|[1-9]\d*)$/;var oe=function(t,e){var n=void 0===t?"undefined":o(t);return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&re.test(t))&&-1<t&&t%1==0&&t<e};var ie=function(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=9007199254740991},ae={};ae["[object Float32Array]"]=ae["[object Float64Array]"]=ae["[object Int8Array]"]=ae["[object Int16Array]"]=ae["[object Int32Array]"]=ae["[object Uint8Array]"]=ae["[object Uint8ClampedArray]"]=ae["[object Uint16Array]"]=ae["[object Uint32Array]"]=!0,ae["[object Arguments]"]=ae["[object Array]"]=ae["[object ArrayBuffer]"]=ae["[object Boolean]"]=ae["[object DataView]"]=ae["[object Date]"]=ae["[object Error]"]=ae["[object Function]"]=ae["[object Map]"]=ae["[object Number]"]=ae["[object Object]"]=ae["[object RegExp]"]=ae["[object Set]"]=ae["[object String]"]=ae["[object WeakMap]"]=!1;var ue=function(t){return A(t)&&ie(t.length)&&!!ae[w(t)]};var ce=function(e){return function(t){return e(t)}},fe=n(function(t,e){var n=e&&!e.nodeType&&e,r=n&&t&&!t.nodeType&&t,o=r&&r.exports===n&&s.process,i=function(){try{var t=r&&r.require&&r.require("util").types;return t||o&&o.binding&&o.binding("util")}catch(t){}}();t.exports=i}),se=fe&&fe.isTypedArray,le=se?ce(se):ue,pe=Object.prototype.hasOwnProperty;var ve=function(t,e){var n=g(t),r=!n&&te(t),o=!n&&!r&&ne(t),i=!n&&!r&&!o&&le(t),a=n||r||o||i,u=a?Kt(t.length,String):[],c=u.length;for(var f in t)!e&&!pe.call(t,f)||a&&("length"==f||o&&("offset"==f||"parent"==f)||i&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||oe(f,c))||u.push(f);return u},he=Object.prototype;var de=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||he)};var ye=function(e,n){return function(t){return e(n(t))}},ge=ye(Object.keys,Object),be=Object.prototype.hasOwnProperty;var _e=function(t){if(!de(t))return ge(t);var e=[];for(var n in Object(t))be.call(t,n)&&"constructor"!=n&&e.push(n);return e};var je=function(t){return null!=t&&ie(t.length)&&!x(t)};var me=function(t){return je(t)?ve(t):_e(t)};var Oe=function(t,e){return t&&Jt(e,me(e),t)};var we=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e},Ae=Object.prototype.hasOwnProperty;var Ce=function(t){if(!k(t))return we(t);var e=de(t),n=[];for(var r in t)("constructor"!=r||!e&&Ae.call(t,r))&&n.push(r);return n};var Ee=function(t){return je(t)?ve(t,!0):Ce(t)};var Se=function(t,e){return t&&Jt(e,Ee(e),t)},Te=n(function(t,e){var n=e&&!e.nodeType&&e,r=n&&t&&!t.nodeType&&t,o=r&&r.exports===n?p.Buffer:void 0,i=o?o.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=i?i(n):new t.constructor(n);return t.copy(r),r}});var ke=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e};var Pe=function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i};var xe=function(){return[]},Me=Object.prototype.propertyIsEnumerable,ze=Object.getOwnPropertySymbols,qe=ze?function(e){return null==e?[]:(e=Object(e),Pe(ze(e),function(t){return Me.call(e,t)}))}:xe;var Re=function(t,e){return Jt(t,qe(t),e)};var Fe=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t},Ie=ye(Object.getPrototypeOf,Object),$e=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Fe(e,qe(t)),t=Ie(t);return e}:xe;var Ve=function(t,e){return Jt(t,$e(t),e)};var Be=function(t,e,n){var r=e(t);return g(t)?r:Fe(r,n(t))};var De=function(t){return Be(t,me,qe)};var Ue=function(t){return Be(t,Ee,$e)},Le=N(p,"DataView"),He=N(p,"Promise"),Ne=N(p,"Set"),We=N(p,"WeakMap"),Ge="[object Map]",Je="[object Promise]",Ke="[object Set]",Qe="[object WeakMap]",Xe="[object DataView]",Ye=F(Le),Ze=F(pt),tn=F(He),en=F(Ne),nn=F(We),rn=w;(Le&&rn(new Le(new ArrayBuffer(1)))!=Xe||pt&&rn(new pt)!=Ge||He&&rn(He.resolve())!=Je||Ne&&rn(new Ne)!=Ke||We&&rn(new We)!=Qe)&&(rn=function(t){var e=w(t),n="[object Object]"==e?t.constructor:void 0,r=n?F(n):"";if(r)switch(r){case Ye:return Xe;case Ze:return Ge;case tn:return Je;case en:return Ke;case nn:return Qe}return e});var on=rn,an=Object.prototype.hasOwnProperty;var un=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&an.call(t,"index")&&(n.index=t.index,n.input=t.input),n},cn=p.Uint8Array;var fn=function(t){var e=new t.constructor(t.byteLength);return new cn(e).set(new cn(t)),e};var sn=v?v.prototype:void 0;sn&&sn.valueOf;var ln=function(t,e){var n=e?fn(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)};var pn=Object.create,vn=function(){function n(){}return function(t){if(!k(t))return{};if(pn)return pn(t);n.prototype=t;var e=new n;return n.prototype=void 0,e}}();var hn=function(t){return"function"!=typeof t.constructor||de(t)?{}:vn(Ie(t))};var dn=function(t){return A(t)&&"[object Map]"==on(t)},yn=fe&&fe.isMap,gn=yn?ce(yn):dn;var bn=function(t){return A(t)&&"[object Set]"==on(t)},_n=fe&&fe.isSet,jn=_n?ce(_n):bn,mn=1,On=2,wn=4,An="[object Arguments]",Cn="[object Function]",En="[object GeneratorFunction]",Sn="[object Object]";var Tn=function n(r,o,i,t,e,a){var u,c=o&mn,f=o&On,s=o&wn;if(i&&(u=e?i(r,t,e,a):i(r)),void 0!==u)return u;if(!k(r))return r;var l=g(r);if(l){if(u=un(r),!c)return ke(r,u)}else{var p=on(r),v=p==Cn||p==En;if(ne(r))return Te(r,c);if(p!=Sn&&p!=An&&(!v||e))return e?r:{};if(u=f||v?{}:hn(r),!c)return f?Ve(r,Se(u,r)):Re(r,Oe(u,r))}a||(a=new Ut);var h=a.get(r);if(h)return h;if(a.set(r,u),jn(r))return r.forEach(function(t){u.add(n(t,o,i,t,r,a))}),u;if(gn(r))return r.forEach(function(t,e){u.set(e,n(t,o,i,e,r,a))}),u;var d=s?f?Ue:De:f?keysIn:me,y=l?void 0:d(r);return Lt(y||r,function(t,e){y&&(t=r[e=t]),Gt(u,e,n(t,o,i,e,r,a))}),u};var kn=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0};var Pn=function(t,e,n){var r=-1,o=t.length;e<0&&(e=o<-e?0:o+e),(n=o<n?o:n)<0&&(n+=o),o=n<e?0:n-e>>>0,e>>>=0;for(var i=Array(o);++r<o;)i[r]=t[r+e];return i};var xn=function(t,e){return e.length<2?t:Rt(t,Pn(e,0,-1))};var Mn=function(t,e){return e=zt(e,t),null==(t=xn(t,e))||delete t[qt(kn(e))]},zn=Function.prototype,qn=Object.prototype,Rn=zn.toString,Fn=qn.hasOwnProperty,In=Rn.call(Object);var $n=function(t){if(!A(t)||"[object Object]"!=w(t))return!1;var e=Ie(t);if(null===e)return!0;var n=Fn.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Rn.call(n)==In};var Vn=function(t){return $n(t)?void 0:t},Bn=v?v.isConcatSpreadable:void 0;var Dn=function(t){return g(t)||te(t)||!!(Bn&&t&&t[Bn])};var Un=function t(e,n,r,o,i){var a=-1,u=e.length;for(r||(r=Dn),i||(i=[]);++a<u;){var c=e[a];0<n&&r(c)?1<n?t(c,n-1,r,o,i):Fe(i,c):o||(i[i.length]=c)}return i};var Ln=function(t){return null!=t&&t.length?Un(t,1):[]};var Hn=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},Nn=Math.max;var Wn=function(i,a,u){return a=Nn(void 0===a?i.length-1:a,0),function(){for(var t=arguments,e=-1,n=Nn(t.length-a,0),r=Array(n);++e<n;)r[e]=t[a+e];e=-1;for(var o=Array(a+1);++e<a;)o[e]=t[e];return o[a]=u(r),Hn(i,this,o)}};var Gn=function(t){return function(){return t}};var Jn=function(t){return t},Kn=Ht?function(t,e){return Ht(t,"toString",{configurable:!0,enumerable:!1,value:Gn(e),writable:!0})}:Jn,Qn=Date.now;var Xn=function(n){var r=0,o=0;return function(){var t=Qn(),e=16-(t-o);if(o=t,0<e){if(800<=++r)return arguments[0]}else r=0;return n.apply(void 0,arguments)}}(Kn);Yn=function(e,t){var n={};if(null==e)return n;var r=!1;t=St(t,function(t){return t=zt(t,e),r||(r=1<t.length),t}),Jt(e,Ue(e),n),r&&(n=Tn(n,7,Vn));for(var o=t.length;o--;)Mn(n,t[o]);return n},Xn(Wn(Yn,void 0,Ln),Yn+"");var Yn;var Zn=function(t,e,n){(void 0===n||rt(t[e],n))&&(void 0!==n||e in t)||Nt(t,e,n)};var tr=function(c){return function(t,e,n){for(var r=-1,o=Object(t),i=n(t),a=i.length;a--;){var u=i[c?a:++r];if(!1===e(o[u],u,o))break}return t}}();var er=function(t){return A(t)&&je(t)};var nr=function(t,e){return"__proto__"==e?void 0:t[e]};var rr=function(t){return Jt(t,Ee(t))};var or=function(t,e,n,r,o,i,a){var u=nr(t,n),c=nr(e,n),f=a.get(c);if(f)Zn(t,n,f);else{var s=i?i(u,c,n+"",t,e,a):void 0,l=void 0===s;if(l){var p=g(c),v=!p&&ne(c),h=!p&&!v&&le(c);s=c,p||v||h?s=g(u)?u:er(u)?ke(u):v?Te(c,!(l=!1)):h?ln(c,!(l=!1)):[]:$n(c)||te(c)?te(s=u)?s=rr(u):(!k(u)||r&&x(u))&&(s=hn(c)):l=!1}l&&(a.set(c,s),o(s,c,r,i,a),a.delete(c)),Zn(t,n,s)}};var ir=function r(o,i,a,u,c){o!==i&&tr(i,function(t,e){if(k(t))c||(c=new Ut),or(o,i,e,a,r,u,c);else{var n=u?u(nr(o,e),t,e+"",o,i,c):void 0;void 0===n&&(n=t),Zn(o,e,n)}},Ee)};var ar=function(t,e){return Xn(Wn(t,e,Jn),t+"")};var ur=function(t,e,n){if(!k(n))return!1;var r=void 0===e?"undefined":o(e);return!!("number"==r?je(n)&&oe(e,n.length):"string"==r&&e in n)&&rt(n[e],t)};var cr=function(u){return ar(function(t,e){var n=-1,r=e.length,o=1<r?e[r-1]:void 0,i=2<r?e[2]:void 0;for(o=3<u.length&&"function"==typeof o?(r--,o):void 0,i&&ur(e[0],e[1],i)&&(o=r<3?void 0:o,r=1),t=Object(t);++n<r;){var a=e[n];a&&u(t,a,n,o)}return t})},fr=cr(function(t,e,n){ir(t,e,n)}),sr=Object.prototype.hasOwnProperty,lr=(cr(function(t,e){if(de(e)||je(e))Jt(e,me(e),t);else for(var n in e)sr.call(e,n)&&Gt(t,n,e[n])}),function(n){return function(t){var e=t.configMap;return Ft(Ft(e,n),"defaultValue",Ft(e,n))}});var pr=function(t,e,n,r){if(!k(t))return t;for(var o=-1,i=(e=zt(e,t)).length,a=i-1,u=t;null!=u&&++o<i;){var c=qt(e[o]),f=n;if(o!=a){var s=u[c];void 0===(f=r?r(s,c,u):void 0)&&(f=k(s)?s:oe(e[o+1])?[]:{})}Gt(u,c,f),u=u[c]}return t};var vr=function(t,e,n){return null==t?t:pr(t,e,n)},hr=require("prop-types");function dr(t){var e=t.title,n=t.value,r=t.onChange;return u.createElement("div",null,u.createElement("span",null,e),u.createElement("input",{value:n,onChange:r}))}dr.propTypes={title:hr.string,value:hr.string,onChange:hr.func.isRequired};var yr="AS:string",gr="AS:color",br=[yr,"AS:number",gr,"AS:phone"],_r=require("prop-types");function jr(t){var e=t.title,n=t.value,r=t.onChange;return u.createElement("div",null,u.createElement("span",null,e),u.createElement("input",{type:"color",value:n,onChange:r}))}jr.propTypes={title:_r.string,value:_r.string,onChange:_r.func.isRequired};var mr=require("prop-types"),Or=function(t){function n(t){i(this,n);var e=f(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return e.renderActionType=e.renderActionType.bind(e),e.onChange=e.onChange.bind(e),e}return c(n,t),a(n,[{key:"onChange",value:function(t){this.props.onChange(this.props.path,t.target.value)}},{key:"renderActionType",value:function(t){var e={title:this.props.title,value:this.props.value,onChange:this.onChange};switch(t){case yr:return u.createElement(dr,e);case gr:return u.createElement(jr,e)}}},{key:"render",value:function(){var t=this.props.type;return this.renderActionType(t)}}]),n}(u.PureComponent);Or.propTypes={path:mr.string.isRequired,type:mr.oneOf(br),value:mr.any,title:mr.string,onChange:mr.func.isRequired};var wr=require("prop-types"),Ar=require("react-popover"),Cr=function(t){function n(t){i(this,n);var e=f(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return e.state={openAction:!1},e.openAction=e.openAction.bind(e),e.closeActions=e.closeActions.bind(e),e.generateComponentAction=e.generateComponentAction.bind(e),e.handleChange=e.handleChange.bind(e),e}return c(n,t),a(n,[{key:"openAction",value:function(t){t.preventDefault(),this.setState({openAction:!0})}},{key:"closeActions",value:function(){this.setState({openAction:!1})}},{key:"handleChange",value:function(t,e){var n={};vr(n,t+".defaultValue",e),console.log(n),this.props.actoservice.updateConfig(n)}},{key:"generateComponentAction",value:function(){var e=this,t=this.props.actoservice,n=t.paths,r=t.scheme;return n.map(function(t){return u.createElement(Or,{key:t,path:t,title:Ft(r,t+".title"),onChange:e.handleChange,type:Ft(r,t+".type"),value:Ft(r,t+".value")})})}},{key:"render",value:function(){var t=this.props.actoservice,e=r.cloneElement(this.props.children,{actoservice:{scheme:t.scheme}});return t.isEditing?u.createElement("div",{onContextMenu:this.openAction,style:{display:"inline-block"}},u.createElement(Ar,{isOpen:this.state.openAction,body:this.generateComponentAction(),onOuterAction:this.closeActions},u.createElement("div",null,e))):e}}]),n}(u.PureComponent);Cr.propTypes={actoservice:wr.shape({paths:wr.arrayOf(wr.string).isRequired,schemes:wr.object,updateConfig:wr.func.isRequired,isEditing:wr.bool.isRequired}).isRequired};var Er=u.createContext(),Sr=Er.Provider,Tr=Er.Consumer,kr=function(t){function n(t){i(this,n);var e=f(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return e.state={configMap:window.__ACTOSERVICE__SCHEME__,isEditing:!0},window.__ACTOSERVICE__SCHEME__=null,e.updateConfig=e.updateConfig.bind(e),e}return c(n,t),a(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.scheme;this.injectCSS(),window.self!==window.top&&this._registerListener(),this.props.scheme||this.state.configMap?this.state.configMap||(k(t)&&this.setState({configMap:t}),"string"==typeof t&&fetch(t).then(function(t){return t.json()}).then(function(t){return e.setState({configMap:t})}).catch(function(t){return console.error("Cant find configMap")})):console.error("Scheme is not specified")}},{key:"injectCSS",value:function(){var t=document.createElement("style");t.innerHTML="\n      .body {\n        padding: 0;\n        margin: 0;\n      }\n      .Popover-body {\n        display: inline-flex;\n        flex-direction: column;\n        padding: 2rem 4rem;\n        background: hsl(0, 0%, 27%);\n        color: white;\n        border-radius: 0.3rem;\n      }\n      \n      .Popover-tipShape {\n        fill: hsl(0, 0%, 27%);\n      }\n      .Target {\n        -webkit-user-select: none;\n        position: relative;\n        display: inline-block;\n        color: hsla(0, 0%, 0%, 0.45);\n        color: white;\n        white-space: pre-wrap;\n        text-align: center;\n        text-transform: uppercase;\n        border-radius: 0.2rem;\n        overflow: hidden;\n      }\n      \n      .Target-Move {\n        padding: 1rem;\n        cursor: move;\n        border-bottom: 1px solid white;\n        background: hsl(173, 69%, 48%);\n      }\n      \n      .Target-Toggle {\n        display: block;\n        padding: 1rem;\n        cursor: pointer;\n        background: hsl(346, 62%, 55%);\n      }\n      .Target.is-open .Target-Toggle {\n        background: hsl(346, 80%, 50%);\n      }\n    ",document.head.appendChild(t)}},{key:"_isASAction",value:function(t){return Ft(t,"__ACTOSERVICE__ACTION__")}},{key:"_registerListener",value:function(){var r=this;window.onmessage=function(t){var e=t.origin,n=t.data;console.log("message received",e,n),r._isASAction(n)?r.updateConfig(Ft(n,"payload")):console.warn("invalid update")}}},{key:"updateConfig",value:function(t){var e=fr(this.state.configMap,t);this.setState({configMap:e})}},{key:"render",value:function(){var t=this.state,e=t.configMap,n=t.isEditing,r=this.props.children;return u.createElement(Sr,{value:{configMap:e,isEditing:n,updateConfig:this.updateConfig}},u.Children.only(r))}}]),n}(u.Component);t.default=kr,t.withBind=function(a){return function(i){return u.createElement(Tr,null,function(t){var e=t.configMap,n=t.isEditing,r=t.updateConfig,o={};return a.forEach(function(t){vr(o,t+".value",lr(t)({configMap:e})),vr(o,t+".title",Ft(e,t+".__title__")),vr(o,t+".type",Ft(e,t+".type"))}),u.createElement(Cr,{actoservice:{paths:a,scheme:o,updateConfig:r,isEditing:n}},u.createElement(i,null))})}},t.bindValue=function(t){return u.createElement(Tr,null,lr(t))},t.Types=br,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=actoservice.js.map
