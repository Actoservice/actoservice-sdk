!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],e):e(t["actoservice-sdk"]={},t.React)}(this,function(t,r){"use strict";var c="default"in r?r.default:r,b=Array.isArray,e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(t,e){return t(e={exports:{}},e.exports),e.exports}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},s=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}(),a=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},l=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},f=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},u="object"==o(e)&&e&&e.Object===Object&&e,p="object"==("undefined"==typeof self?"undefined":o(self))&&self&&self.Object===Object&&self,v=u||p||Function("return this")(),h=v.Symbol,d=Object.prototype,y=d.hasOwnProperty,g=d.toString,_=h?h.toStringTag:void 0;var m=function(t){var e=y.call(t,_),n=t[_];try{t[_]=void 0}catch(t){}var r=g.call(t);return e?t[_]=n:delete t[_],r},j=Object.prototype.toString;var w=function(t){return j.call(t)},O=h?h.toStringTag:void 0;var C=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":O&&O in Object(t)?m(t):w(t)};var A=function(t){return null!=t&&"object"==(void 0===t?"undefined":o(t))};var S=function(t){return"symbol"==(void 0===t?"undefined":o(t))||A(t)&&"[object Symbol]"==C(t)},E=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,x=/^\w*$/;var k=function(t,e){if(b(t))return!1;var n=void 0===t?"undefined":o(t);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!S(t))||x.test(t)||!E.test(t)||null!=e&&t in Object(e)};var P=function(t){var e=void 0===t?"undefined":o(t);return null!=t&&("object"==e||"function"==e)};var T,M=function(t){if(!P(t))return!1;var e=C(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},z=v["__core-js_shared__"],R=(T=/[^.]+$/.exec(z&&z.keys&&z.keys.IE_PROTO||""))?"Symbol(src)_1."+T:"";var q=function(t){return!!R&&R in t},F=Function.prototype.toString;var I=function(t){if(null!=t){try{return F.call(t)}catch(t){}try{return t+""}catch(t){}}return""},$=/^\[object .+?Constructor\]$/,B=Function.prototype,D=Object.prototype,U=B.toString,V=D.hasOwnProperty,N=RegExp("^"+U.call(V).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var L=function(t){return!(!P(t)||q(t))&&(M(t)?N:$).test(I(t))};var W=function(t,e){return null==t?void 0:t[e]};var H=function(t,e){var n=W(t,e);return L(n)?n:void 0},G=H(Object,"create");var J=function(){this.__data__=G?G(null):{},this.size=0};var K=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Q=Object.prototype.hasOwnProperty;var X=function(t){var e=this.__data__;if(G){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return Q.call(e,t)?e[t]:void 0},Y=Object.prototype.hasOwnProperty;var Z=function(t){var e=this.__data__;return G?void 0!==e[t]:Y.call(e,t)};var tt=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=G&&void 0===e?"__lodash_hash_undefined__":e,this};function et(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}et.prototype.clear=J,et.prototype.delete=K,et.prototype.get=X,et.prototype.has=Z,et.prototype.set=tt;var nt=et;var rt=function(){this.__data__=[],this.size=0};var ot=function(t,e){return t===e||t!=t&&e!=e};var it=function(t,e){for(var n=t.length;n--;)if(ot(t[n][0],e))return n;return-1},at=Array.prototype.splice;var ut=function(t){var e=this.__data__,n=it(e,t);return!(n<0||(n==e.length-1?e.pop():at.call(e,n,1),--this.size,0))};var ct=function(t){var e=this.__data__,n=it(e,t);return n<0?void 0:e[n][1]};var st=function(t){return-1<it(this.__data__,t)};var lt=function(t,e){var n=this.__data__,r=it(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function ft(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ft.prototype.clear=rt,ft.prototype.delete=ut,ft.prototype.get=ct,ft.prototype.has=st,ft.prototype.set=lt;var pt=ft,vt=H(v,"Map");var ht=function(t){var e=void 0===t?"undefined":o(t);return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var dt=function(t,e){var n=t.__data__;return ht(e)?n["string"==typeof e?"string":"hash"]:n.map};var yt=function(t){var e=dt(this,t).delete(t);return this.size-=e?1:0,e};var bt=function(t){return dt(this,t).get(t)};var gt=function(t){return dt(this,t).has(t)};var _t=function(t,e){var n=dt(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function mt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}mt.prototype.clear=function(){this.size=0,this.__data__={hash:new nt,map:new(vt||pt),string:new nt}},mt.prototype.delete=yt,mt.prototype.get=bt,mt.prototype.has=gt,mt.prototype.set=_t;var jt=mt,wt="Expected a function";function Ot(i,a){if("function"!=typeof i||null!=a&&"function"!=typeof a)throw new TypeError(wt);var t=function t(){var e=arguments,n=a?a.apply(this,e):e[0],r=t.cache;if(r.has(n))return r.get(n);var o=i.apply(this,e);return t.cache=r.set(n,o)||r,o};return t.cache=new(Ot.Cache||jt),t}Ot.Cache=jt;var Ct=Ot;var At=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,St=/\\(\\)?/g,Et=function(t){var e=Ct(t,function(t){return 500===n.size&&n.clear(),t}),n=e.cache;return e}(function(t){var o=[];return 46===t.charCodeAt(0)&&o.push(""),t.replace(At,function(t,e,n,r){o.push(n?r.replace(St,"$1"):e||t)}),o});var xt=function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o},kt=1/0,Pt=h?h.prototype:void 0,Tt=Pt?Pt.toString:void 0;var Mt=function t(e){if("string"==typeof e)return e;if(b(e))return xt(e,t)+"";if(S(e))return Tt?Tt.call(e):"";var n=e+"";return"0"==n&&1/e==-kt?"-0":n};var zt=function(t){return null==t?"":Mt(t)};var Rt=function(t,e){return b(t)?t:k(t,e)?[t]:Et(zt(t))};var qt=function(t){if("string"==typeof t||S(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e};var Ft=function(t,e){for(var n=0,r=(e=Rt(e,t)).length;null!=t&&n<r;)t=t[qt(e[n++])];return n&&n==r?t:void 0};var It=function(t,e,n){var r=null==t?void 0:Ft(t,e);return void 0===r?n:r};var $t=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n};var Bt=function(t){return this.__data__.get(t)};var Dt=function(t){return this.__data__.has(t)};var Ut=function(t,e){var n=this.__data__;if(n instanceof pt){var r=n.__data__;if(!vt||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new jt(r)}return n.set(t,e),this.size=n.size,this};function Vt(t){var e=this.__data__=new pt(t);this.size=e.size}Vt.prototype.clear=function(){this.__data__=new pt,this.size=0},Vt.prototype.delete=$t,Vt.prototype.get=Bt,Vt.prototype.has=Dt,Vt.prototype.set=Ut;var Nt=Vt;var Lt=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t},Wt=function(){try{var t=H(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();var Ht=function(t,e,n){"__proto__"==e&&Wt?Wt(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},Gt=Object.prototype.hasOwnProperty;var Jt=function(t,e,n){var r=t[e];Gt.call(t,e)&&ot(r,n)&&(void 0!==n||e in t)||Ht(t,e,n)};var Kt=function(t,e,n,r){var o=!n;n||(n={});for(var i=-1,a=e.length;++i<a;){var u=e[i],c=r?r(n[u],t[u],u,n,t):void 0;void 0===c&&(c=t[u]),o?Ht(n,u,c):Jt(n,u,c)}return n};var Qt=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r};var Xt=function(t){return A(t)&&"[object Arguments]"==C(t)},Yt=Object.prototype,Zt=Yt.hasOwnProperty,te=Yt.propertyIsEnumerable,ee=Xt(function(){return arguments}())?Xt:function(t){return A(t)&&Zt.call(t,"callee")&&!te.call(t,"callee")};var ne=function(){return!1},re=n(function(t,e){var n=e&&!e.nodeType&&e,r=n&&t&&!t.nodeType&&t,o=r&&r.exports===n?v.Buffer:void 0,i=(o?o.isBuffer:void 0)||ne;t.exports=i}),oe=/^(?:0|[1-9]\d*)$/;var ie=function(t,e){var n=void 0===t?"undefined":o(t);return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&oe.test(t))&&-1<t&&t%1==0&&t<e};var ae=function(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=9007199254740991},ue={};ue["[object Float32Array]"]=ue["[object Float64Array]"]=ue["[object Int8Array]"]=ue["[object Int16Array]"]=ue["[object Int32Array]"]=ue["[object Uint8Array]"]=ue["[object Uint8ClampedArray]"]=ue["[object Uint16Array]"]=ue["[object Uint32Array]"]=!0,ue["[object Arguments]"]=ue["[object Array]"]=ue["[object ArrayBuffer]"]=ue["[object Boolean]"]=ue["[object DataView]"]=ue["[object Date]"]=ue["[object Error]"]=ue["[object Function]"]=ue["[object Map]"]=ue["[object Number]"]=ue["[object Object]"]=ue["[object RegExp]"]=ue["[object Set]"]=ue["[object String]"]=ue["[object WeakMap]"]=!1;var ce=function(t){return A(t)&&ae(t.length)&&!!ue[C(t)]};var se=function(e){return function(t){return e(t)}},le=n(function(t,e){var n=e&&!e.nodeType&&e,r=n&&t&&!t.nodeType&&t,o=r&&r.exports===n&&u.process,i=function(){try{var t=r&&r.require&&r.require("util").types;return t||o&&o.binding&&o.binding("util")}catch(t){}}();t.exports=i}),fe=le&&le.isTypedArray,pe=fe?se(fe):ce,ve=Object.prototype.hasOwnProperty;var he=function(t,e){var n=b(t),r=!n&&ee(t),o=!n&&!r&&re(t),i=!n&&!r&&!o&&pe(t),a=n||r||o||i,u=a?Qt(t.length,String):[],c=u.length;for(var s in t)!e&&!ve.call(t,s)||a&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||ie(s,c))||u.push(s);return u},de=Object.prototype;var ye=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||de)};var be=function(e,n){return function(t){return e(n(t))}},ge=be(Object.keys,Object),_e=Object.prototype.hasOwnProperty;var me=function(t){if(!ye(t))return ge(t);var e=[];for(var n in Object(t))_e.call(t,n)&&"constructor"!=n&&e.push(n);return e};var je=function(t){return null!=t&&ae(t.length)&&!M(t)};var we=function(t){return je(t)?he(t):me(t)};var Oe=function(t,e){return t&&Kt(e,we(e),t)};var Ce=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e},Ae=Object.prototype.hasOwnProperty;var Se=function(t){if(!P(t))return Ce(t);var e=ye(t),n=[];for(var r in t)("constructor"!=r||!e&&Ae.call(t,r))&&n.push(r);return n};var Ee=function(t){return je(t)?he(t,!0):Se(t)};var xe=function(t,e){return t&&Kt(e,Ee(e),t)},ke=n(function(t,e){var n=e&&!e.nodeType&&e,r=n&&t&&!t.nodeType&&t,o=r&&r.exports===n?v.Buffer:void 0,i=o?o.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=i?i(n):new t.constructor(n);return t.copy(r),r}});var Pe=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e};var Te=function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i};var Me=function(){return[]},ze=Object.prototype.propertyIsEnumerable,Re=Object.getOwnPropertySymbols,qe=Re?function(e){return null==e?[]:(e=Object(e),Te(Re(e),function(t){return ze.call(e,t)}))}:Me;var Fe=function(t,e){return Kt(t,qe(t),e)};var Ie=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t},$e=be(Object.getPrototypeOf,Object),Be=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Ie(e,qe(t)),t=$e(t);return e}:Me;var De=function(t,e){return Kt(t,Be(t),e)};var Ue=function(t,e,n){var r=e(t);return b(t)?r:Ie(r,n(t))};var Ve=function(t){return Ue(t,we,qe)};var Ne=function(t){return Ue(t,Ee,Be)},Le=H(v,"DataView"),We=H(v,"Promise"),He=H(v,"Set"),Ge=H(v,"WeakMap"),Je="[object Map]",Ke="[object Promise]",Qe="[object Set]",Xe="[object WeakMap]",Ye="[object DataView]",Ze=I(Le),tn=I(vt),en=I(We),nn=I(He),rn=I(Ge),on=C;(Le&&on(new Le(new ArrayBuffer(1)))!=Ye||vt&&on(new vt)!=Je||We&&on(We.resolve())!=Ke||He&&on(new He)!=Qe||Ge&&on(new Ge)!=Xe)&&(on=function(t){var e=C(t),n="[object Object]"==e?t.constructor:void 0,r=n?I(n):"";if(r)switch(r){case Ze:return Ye;case tn:return Je;case en:return Ke;case nn:return Qe;case rn:return Xe}return e});var an=on,un=Object.prototype.hasOwnProperty;var cn=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&un.call(t,"index")&&(n.index=t.index,n.input=t.input),n},sn=v.Uint8Array;var ln=function(t){var e=new t.constructor(t.byteLength);return new sn(e).set(new sn(t)),e};var fn=h?h.prototype:void 0;fn&&fn.valueOf;var pn=function(t,e){var n=e?ln(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)};var vn=Object.create,hn=function(){function n(){}return function(t){if(!P(t))return{};if(vn)return vn(t);n.prototype=t;var e=new n;return n.prototype=void 0,e}}();var dn=function(t){return"function"!=typeof t.constructor||ye(t)?{}:hn($e(t))};var yn=function(t){return A(t)&&"[object Map]"==an(t)},bn=le&&le.isMap,gn=bn?se(bn):yn;var _n=function(t){return A(t)&&"[object Set]"==an(t)},mn=le&&le.isSet,jn=mn?se(mn):_n,wn=1,On=2,Cn=4,An="[object Arguments]",Sn="[object Function]",En="[object GeneratorFunction]",xn="[object Object]";var kn=function n(r,o,i,t,e,a){var u,c=o&wn,s=o&On,l=o&Cn;if(i&&(u=e?i(r,t,e,a):i(r)),void 0!==u)return u;if(!P(r))return r;var f=b(r);if(f){if(u=cn(r),!c)return Pe(r,u)}else{var p=an(r),v=p==Sn||p==En;if(re(r))return ke(r,c);if(p!=xn&&p!=An&&(!v||e))return e?r:{};if(u=s||v?{}:dn(r),!c)return s?De(r,xe(u,r)):Fe(r,Oe(u,r))}a||(a=new Nt);var h=a.get(r);if(h)return h;if(a.set(r,u),jn(r))return r.forEach(function(t){u.add(n(t,o,i,t,r,a))}),u;if(gn(r))return r.forEach(function(t,e){u.set(e,n(t,o,i,e,r,a))}),u;var d=l?s?Ne:Ve:s?keysIn:we,y=f?void 0:d(r);return Lt(y||r,function(t,e){y&&(t=r[e=t]),Jt(u,e,n(t,o,i,e,r,a))}),u};var Pn=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0};var Tn=function(t,e,n){var r=-1,o=t.length;e<0&&(e=o<-e?0:o+e),(n=o<n?o:n)<0&&(n+=o),o=n<e?0:n-e>>>0,e>>>=0;for(var i=Array(o);++r<o;)i[r]=t[r+e];return i};var Mn=function(t,e){return e.length<2?t:Ft(t,Tn(e,0,-1))};var zn=function(t,e){return e=Rt(e,t),null==(t=Mn(t,e))||delete t[qt(Pn(e))]},Rn=Function.prototype,qn=Object.prototype,Fn=Rn.toString,In=qn.hasOwnProperty,$n=Fn.call(Object);var Bn=function(t){if(!A(t)||"[object Object]"!=C(t))return!1;var e=$e(t);if(null===e)return!0;var n=In.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Fn.call(n)==$n};var Dn=function(t){return Bn(t)?void 0:t},Un=h?h.isConcatSpreadable:void 0;var Vn=function(t){return b(t)||ee(t)||!!(Un&&t&&t[Un])};var Nn=function t(e,n,r,o,i){var a=-1,u=e.length;for(r||(r=Vn),i||(i=[]);++a<u;){var c=e[a];0<n&&r(c)?1<n?t(c,n-1,r,o,i):Ie(i,c):o||(i[i.length]=c)}return i};var Ln=function(t){return null!=t&&t.length?Nn(t,1):[]};var Wn=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},Hn=Math.max;var Gn=function(i,a,u){return a=Hn(void 0===a?i.length-1:a,0),function(){for(var t=arguments,e=-1,n=Hn(t.length-a,0),r=Array(n);++e<n;)r[e]=t[a+e];e=-1;for(var o=Array(a+1);++e<a;)o[e]=t[e];return o[a]=u(r),Wn(i,this,o)}};var Jn=function(t){return function(){return t}};var Kn=function(t){return t},Qn=Wt?function(t,e){return Wt(t,"toString",{configurable:!0,enumerable:!1,value:Jn(e),writable:!0})}:Kn,Xn=Date.now;var Yn=function(n){var r=0,o=0;return function(){var t=Xn(),e=16-(t-o);if(o=t,0<e){if(800<=++r)return arguments[0]}else r=0;return n.apply(void 0,arguments)}}(Qn);Zn=function(e,t){var n={};if(null==e)return n;var r=!1;t=xt(t,function(t){return t=Rt(t,e),r||(r=1<t.length),t}),Kt(e,Ne(e),n),r&&(n=kn(n,7,Dn));for(var o=t.length;o--;)zn(n,t[o]);return n},Yn(Gn(Zn,void 0,Ln),Zn+"");var Zn;var tr=function(t,e,n){(void 0===n||ot(t[e],n))&&(void 0!==n||e in t)||Ht(t,e,n)};var er=function(c){return function(t,e,n){for(var r=-1,o=Object(t),i=n(t),a=i.length;a--;){var u=i[c?a:++r];if(!1===e(o[u],u,o))break}return t}}();var nr=function(t){return A(t)&&je(t)};var rr=function(t,e){return"__proto__"==e?void 0:t[e]};var or=function(t){return Kt(t,Ee(t))};var ir=function(t,e,n,r,o,i,a){var u=rr(t,n),c=rr(e,n),s=a.get(c);if(s)tr(t,n,s);else{var l=i?i(u,c,n+"",t,e,a):void 0,f=void 0===l;if(f){var p=b(c),v=!p&&re(c),h=!p&&!v&&pe(c);l=c,p||v||h?l=b(u)?u:nr(u)?Pe(u):v?ke(c,!(f=!1)):h?pn(c,!(f=!1)):[]:Bn(c)||ee(c)?ee(l=u)?l=or(u):(!P(u)||r&&M(u))&&(l=dn(c)):f=!1}f&&(a.set(c,l),o(l,c,r,i,a),a.delete(c)),tr(t,n,l)}};var ar=function r(o,i,a,u,c){o!==i&&er(i,function(t,e){if(P(t))c||(c=new Nt),ir(o,i,e,a,r,u,c);else{var n=u?u(rr(o,e),t,e+"",o,i,c):void 0;void 0===n&&(n=t),tr(o,e,n)}},Ee)};var ur=function(t,e){return Yn(Gn(t,e,Kn),t+"")};var cr=function(t,e,n){if(!P(n))return!1;var r=void 0===e?"undefined":o(e);return!!("number"==r?je(n)&&ie(e,n.length):"string"==r&&e in n)&&ot(n[e],t)};var sr=function(u){return ur(function(t,e){var n=-1,r=e.length,o=1<r?e[r-1]:void 0,i=2<r?e[2]:void 0;for(o=3<u.length&&"function"==typeof o?(r--,o):void 0,i&&cr(e[0],e[1],i)&&(o=r<3?void 0:o,r=1),t=Object(t);++n<r;){var a=e[n];a&&u(t,a,n,o)}return t})},lr=sr(function(t,e,n){ar(t,e,n)}),fr=Object.prototype.hasOwnProperty,pr=(sr(function(t,e){if(ye(e)||je(e))Kt(e,we(e),t);else for(var n in e)fr.call(e,n)&&Jt(t,n,e[n])}),"__title__"),vr="defaultValue";console.log(vr,"value",pr,"title","type");var hr=function(n){return function(t){var e=t.configMap;return It(It(e,n),"value",It(e,n+"."+vr))}},dr=function(){return window.self!==window.top},yr=c.createContext(),br=yr.Provider,gr=yr.Consumer,_r="__ACTOSERVICE__ACTION__",mr="AS:sdk:change_edit",jr="AS:sdk:update_config",wr=require("prop-types"),Or=function(t){function n(t){i(this,n);var e=f(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return e.state={configMap:window.__ACTOSERVICE__SCHEME__,isEditing:t.editing||dr()},window.__ACTOSERVICE__SCHEME__=null,e.updateConfig=e.updateConfig.bind(e),e}return l(n,t),s(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.scheme;this.injectCSS(),dr()&&this._registerListener(),this.props.scheme||this.state.configMap?this.state.configMap||(P(t)&&this.setState({configMap:t}),"string"==typeof t&&fetch(t).then(function(t){return t.json()}).then(function(t){return e.setState({configMap:t})}).catch(function(t){return console.error("Cant find configMap")})):console.error("Scheme is not specified")}},{key:"injectCSS",value:function(){var t=document.createElement("style");t.innerHTML="\n  @-webkit-keyframes pulse {\n    0% {\n      -webkit-box-shadow: 0 0 0 0 rgba(204,169,44, 0.4);\n    }\n    70% {\n        -webkit-box-shadow: 0 0 0 10px rgba(204,169,44, 0);\n    }\n    100% {\n        -webkit-box-shadow: 0 0 0 0 rgba(204,169,44, 0);\n    }\n  }\n  @keyframes pulse {\n    0% {\n      -moz-box-shadow: 0 0 0 0 #0a6c8f;\n      box-shadow: 0 0 0 0 #0a6c8f;\n    }\n    70% {\n        -moz-box-shadow: 0 0 0 10px rgba(204,169,44, 0);\n        box-shadow: 0 0 0 10px rgba(204,169,44, 0);\n    }\n    100% {\n        -moz-box-shadow: 0 0 0 0 rgba(204,169,44, 0);\n        box-shadow: 0 0 0 0 rgba(204,169,44, 0);\n    }\n  }\n  .body {\n    padding: 0;\n    margin: 0;\n  }\n  .as-action-hint {\n    animation: pulse 2s infinite;\n  }\n  .Popover {\n    z-index: 22;\n  }\n  .Popover-body {\n    display: inline-flex;\n    flex-direction: column;\n    padding: 2rem 4rem;\n    background: hsl(0, 0%, 27%);\n    color: white;\n    border-radius: 0.3rem;\n  }\n  \n  .Popover-tipShape {\n    fill: hsl(0, 0%, 27%);\n  }\n  .Target {\n    -webkit-user-select: none;\n    position: relative;\n    display: inline-block;\n    color: hsla(0, 0%, 0%, 0.45);\n    color: white;\n    white-space: pre-wrap;\n    text-align: center;\n    text-transform: uppercase;\n    border-radius: 0.2rem;\n    overflow: hidden;\n  }\n  \n  .Target-Move {\n    padding: 1rem;\n    cursor: move;\n    border-bottom: 1px solid white;\n    background: hsl(173, 69%, 48%);\n  }\n  \n  .Target-Toggle {\n    display: block;\n    padding: 1rem;\n    cursor: pointer;\n    background: hsl(346, 62%, 55%);\n  }\n  .Target.is-open .Target-Toggle {\n    background: hsl(346, 80%, 50%);\n  }\n",document.head.appendChild(t)}},{key:"_isASAction",value:function(t){var e=It(t,_r);return!!e&&[mr,jr].includes(e)}},{key:"_registerListener",value:function(){var r=this;window.onmessage=function(t){var e=t.origin,n=t.data;if(console.log("message received",e,n),r._isASAction(n))switch(It(n,_r)){case mr:r.setState({editing:It(n,"payload")});break;case jr:r.updateConfig(It(n,"payload"));break;default:console.warn("Wrong action received",n)}}}},{key:"updateConfig",value:function(e){var n=this,t=lr(this.state.configMap,e);this.setState({configMap:t},function(){var t;"parent"in window&&parent.postMessage((a(t={},_r,"AS:sdk:notify_updates"),a(t,"payload",{updates:e,result:n.state.configMap}),t),"*")})}},{key:"render",value:function(){var t=this.state,e=t.configMap,n=t.isEditing,r=this.props.children;return c.createElement(br,{value:{configMap:e,isEditing:n,updateConfig:this.updateConfig}},c.Children.only(r))}}]),n}(c.Component);Or.propTypes={editing:wr.bool,scheme:wr.oneOfType([wr.string,wr.object]).isRequired};var Cr=function(t,e,n,r){if(!P(t))return t;for(var o=-1,i=(e=Rt(e,t)).length,a=i-1,u=t;null!=u&&++o<i;){var c=qt(e[o]),s=n;if(o!=a){var l=u[c];void 0===(s=r?r(l,c,u):void 0)&&(s=P(l)?l:ie(e[o+1])?[]:{})}Jt(u,c,s),u=u[c]}return t};var Ar=function(t,e,n){return null==t?t:Cr(t,e,n)},Sr=require("prop-types");function Er(t){var e=t.title,n=t.value,r=t.onChange;return c.createElement("div",null,c.createElement("span",null,e),c.createElement("input",{value:n,onChange:r}))}Er.propTypes={title:Sr.string,value:Sr.string,onChange:Sr.func.isRequired};var xr=require("prop-types"),kr=function(t){function n(t){i(this,n);var e=f(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return e.onChange=e.onChange.bind(e),e}return l(n,t),s(n,[{key:"onChange",value:function(t){var e=this,n=new FileReader;n.onload=function(t){return e.props.onChange({target:{value:n.result}})},n.readAsDataURL(t.target.files[0])}},{key:"render",value:function(){var t=this.props,e=t.title;t.value;return c.createElement("div",null,c.createElement("span",null,e),c.createElement("input",{type:"file",name:"",onChange:this.onChange}))}}]),n}(c.Component);kr.propTypes={title:xr.string,value:xr.string,onChange:xr.func.isRequired};var Pr=require("prop-types");function Tr(t){var e=t.title,n=t.value,r=t.onChange;return c.createElement("div",null,c.createElement("span",null,e),c.createElement("input",{type:"color",value:n,onChange:r}))}Tr.propTypes={title:Pr.string,value:Pr.string,onChange:Pr.func.isRequired};var Mr,zr="AS:string",Rr="AS:color",qr="AS:image",Fr=[zr,"AS:number",Rr,"AS:phone",qr],Ir=require("prop-types"),$r=(a(Mr={},Rr,Tr),a(Mr,zr,Er),a(Mr,qr,kr),Mr),Br=function(t){function n(t){i(this,n);var e=f(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return e.onChange=e.onChange.bind(e),e}return l(n,t),s(n,[{key:"onChange",value:function(t){this.props.onChange(this.props.path,t.target.value)}},{key:"render",value:function(){var t=this.props.type,e={title:this.props.title,value:this.props.value,onChange:this.onChange},n=$r[t];if(!n)throw new Error("Wrong action type: "+t);return c.createElement(n,e)}}]),n}(c.PureComponent);Br.propTypes={path:Ir.string.isRequired,type:Ir.oneOf(Fr),value:Ir.any,title:Ir.string,onChange:Ir.func.isRequired};var Dr=require("prop-types"),Ur=require("react-popover"),Vr=function(t){function n(t){i(this,n);var e=f(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return e.state={openAction:!1},e.openAction=e.openAction.bind(e),e.closeActions=e.closeActions.bind(e),e.generateComponentAction=e.generateComponentAction.bind(e),e.handleChange=e.handleChange.bind(e),e}return l(n,t),s(n,[{key:"openAction",value:function(t){t.preventDefault(),this.setState({openAction:!0})}},{key:"closeActions",value:function(){this.setState({openAction:!1})}},{key:"handleChange",value:function(t,e){var n={};Ar(n,t+".value",e),console.log(n),this.props.actoservice.updateConfig(n)}},{key:"generateComponentAction",value:function(){var e=this,t=this.props.actoservice,n=t.paths,r=t.scheme;return n.map(function(t){return c.createElement(Br,{key:t,path:t,title:It(r,t+".title"),onChange:e.handleChange,type:It(r,t+".type"),value:It(r,t+".value")})})}},{key:"render",value:function(){var t=this.props.actoservice,e=r.cloneElement(this.props.children,{actoservice:{scheme:t.scheme}});return t.isEditing?c.createElement("div",{className:"as-action-cntr",onMouseOver:this.openAction,style:{display:"inline-block",position:"relative",transition:"200ms box-shadow",boxShadow:this.state.openAction?"2px 2px 36px -1px rgba(0,0,0,0.75)":"none"}},c.createElement("div",{className:"as-action-hint",style:{position:"absolute",top:-10,right:-10,width:20,height:20,borderRadius:10,backgroundColor:"#0a6c8f",opacity:this.state.openAction?0:1,transition:"200ms opacity",boxShadow:"2px 2px 36px -1px rgba(0,0,0,0.75)"}}),c.createElement(Ur,{preferPlace:"below",isOpen:this.state.openAction,body:this.generateComponentAction(),onOuterAction:this.closeActions},c.createElement("div",null,e))):e}}]),n}(c.PureComponent);Vr.propTypes={actoservice:Dr.shape({paths:Dr.arrayOf(Dr.string).isRequired,schemes:Dr.object,updateConfig:Dr.func.isRequired,isEditing:Dr.bool.isRequired}).isRequired},t.default=Or,t.withBind=function(u){return function(a){var t=function(t){function e(){return i(this,e),f(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,t),s(e,[{key:"render",value:function(){var i=this;return c.createElement(gr,null,function(t){var r=t.configMap,e=t.isEditing,n=t.updateConfig,o={};return u.forEach(function(t){var e,n;Ar(o,t+".value",hr(t)({configMap:r})),Ar(o,t+".title",It(It(e=r,n=t),"title",It(e,n+"."+pr))),Ar(o,t+".type",It(r,t+".type"))}),c.createElement(Vr,{actoservice:{paths:u,scheme:o,updateConfig:n,isEditing:e}},c.createElement(a,i.props))})}}]),e}(c.Component);return t.displayName="withBind ["+(a.displayName||a.name)+"]",t}},t.bindValue=function(t){return c.createElement(gr,null,hr(t))},t.Types=Fr,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=actoservice.js.map
