!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t(e["actoservice-sdk"]={},e.React)}(this,function(e,a){"use strict";var t={__DEV__:!1};if(window&&!window.process&&(window.process={}),!n)var n=window.process;n.env=n.env||{},Object.keys(t).forEach(function(e){n.env[e]=t[e],window&&(window[e]=t[e])});var s="default"in a?a.default:a,y=Array.isArray,r="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function o(e,t){return e(t={exports:{}},t.exports),t.exports}var u="object"==typeof r&&r&&r.Object===Object&&r,i="object"==typeof self&&self&&self.Object===Object&&self,c=u||i||Function("return this")(),p=c.Symbol,l=Object.prototype,f=l.hasOwnProperty,v=l.toString,h=p?p.toStringTag:void 0;var d=function(e){var t=f.call(e,h),n=e[h];try{e[h]=void 0}catch(e){}var r=v.call(e);return t?e[h]=n:delete e[h],r},g=Object.prototype.toString;var b=function(e){return g.call(e)},A=p?p.toStringTag:void 0;var m=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":A&&A in Object(e)?d(e):b(e)};var _=function(e){return null!=e&&"object"==typeof e};var w=function(e){return"symbol"==typeof e||_(e)&&"[object Symbol]"==m(e)},j=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,O=/^\w*$/;var C=function(e,t){if(y(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!w(e))||O.test(e)||!j.test(e)||null!=t&&e in Object(t)};var E=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var x,k=function(e){if(!E(e))return!1;var t=m(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},S=c["__core-js_shared__"],M=(x=/[^.]+$/.exec(S&&S.keys&&S.keys.IE_PROTO||""))?"Symbol(src)_1."+x:"";var P=function(e){return!!M&&M in e},R=Function.prototype.toString;var T=function(e){if(null!=e){try{return R.call(e)}catch(e){}try{return e+""}catch(e){}}return""},z=/^\[object .+?Constructor\]$/,q=Function.prototype,F=Object.prototype,B=q.toString,N=F.hasOwnProperty,I=RegExp("^"+B.call(N).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var K=function(e){return!(!E(e)||P(e))&&(k(e)?I:z).test(T(e))};var V=function(e,t){return null==e?void 0:e[t]};var D=function(e,t){var n=V(e,t);return K(n)?n:void 0},U=D(Object,"create");var H=function(){this.__data__=U?U(null):{},this.size=0};var L=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},W=Object.prototype.hasOwnProperty;var X=function(e){var t=this.__data__;if(U){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return W.call(t,e)?t[e]:void 0},Q=Object.prototype.hasOwnProperty;var G=function(e){var t=this.__data__;return U?void 0!==t[e]:Q.call(t,e)};var J=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=U&&void 0===t?"__lodash_hash_undefined__":t,this};function Y(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Y.prototype.clear=H,Y.prototype.delete=L,Y.prototype.get=X,Y.prototype.has=G,Y.prototype.set=J;var Z=Y;var $=function(){this.__data__=[],this.size=0};var ee=function(e,t){return e===t||e!=e&&t!=t};var te=function(e,t){for(var n=e.length;n--;)if(ee(e[n][0],t))return n;return-1},ne=Array.prototype.splice;var re=function(e){var t=this.__data__,n=te(t,e);return!(n<0||(n==t.length-1?t.pop():ne.call(t,n,1),--this.size,0))};var oe=function(e){var t=this.__data__,n=te(t,e);return n<0?void 0:t[n][1]};var ie=function(e){return-1<te(this.__data__,e)};var ae=function(e,t){var n=this.__data__,r=te(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function ue(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ue.prototype.clear=$,ue.prototype.delete=re,ue.prototype.get=oe,ue.prototype.has=ie,ue.prototype.set=ae;var ce=ue,se=D(c,"Map");var pe=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var le=function(e,t){var n=e.__data__;return pe(t)?n["string"==typeof t?"string":"hash"]:n.map};var fe=function(e){var t=le(this,e).delete(e);return this.size-=t?1:0,t};var ve=function(e){return le(this,e).get(e)};var he=function(e){return le(this,e).has(e)};var de=function(e,t){var n=le(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function ge(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ge.prototype.clear=function(){this.size=0,this.__data__={hash:new Z,map:new(se||ce),string:new Z}},ge.prototype.delete=fe,ge.prototype.get=ve,ge.prototype.has=he,ge.prototype.set=de;var ye=ge,be="Expected a function";function Ae(o,i){if("function"!=typeof o||null!=i&&"function"!=typeof i)throw new TypeError(be);var a=function(){var e=arguments,t=i?i.apply(this,e):e[0],n=a.cache;if(n.has(t))return n.get(t);var r=o.apply(this,e);return a.cache=n.set(t,r)||n,r};return a.cache=new(Ae.Cache||ye),a}Ae.Cache=ye;var me=Ae;var _e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,we=/\\(\\)?/g,je=function(e){var t=me(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}(function(e){var o=[];return 46===e.charCodeAt(0)&&o.push(""),e.replace(_e,function(e,t,n,r){o.push(n?r.replace(we,"$1"):t||e)}),o});var Oe=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o},Ce=1/0,Ee=p?p.prototype:void 0,xe=Ee?Ee.toString:void 0;var ke=function e(t){if("string"==typeof t)return t;if(y(t))return Oe(t,e)+"";if(w(t))return xe?xe.call(t):"";var n=t+"";return"0"==n&&1/t==-Ce?"-0":n};var Se=function(e){return null==e?"":ke(e)};var Me=function(e,t){return y(e)?e:C(e,t)?[e]:je(Se(e))};var Pe=function(e){if("string"==typeof e||w(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t};var Re=function(e,t){for(var n=0,r=(t=Me(t,e)).length;null!=e&&n<r;)e=e[Pe(t[n++])];return n&&n==r?e:void 0};var Te=function(e,t,n){var r=null==e?void 0:Re(e,t);return void 0===r?n:r};var ze=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var qe=function(e){return this.__data__.get(e)};var Fe=function(e){return this.__data__.has(e)};var Be=function(e,t){var n=this.__data__;if(n instanceof ce){var r=n.__data__;if(!se||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ye(r)}return n.set(e,t),this.size=n.size,this};function Ne(e){var t=this.__data__=new ce(e);this.size=t.size}Ne.prototype.clear=function(){this.__data__=new ce,this.size=0},Ne.prototype.delete=ze,Ne.prototype.get=qe,Ne.prototype.has=Fe,Ne.prototype.set=Be;var Ie=Ne;var Ke=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},Ve=function(){try{var e=D(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();var De=function(e,t,n){"__proto__"==t&&Ve?Ve(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},Ue=Object.prototype.hasOwnProperty;var He=function(e,t,n){var r=e[t];Ue.call(e,t)&&ee(r,n)&&(void 0!==n||t in e)||De(e,t,n)};var Le=function(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var u=t[i],c=r?r(n[u],e[u],u,n,e):void 0;void 0===c&&(c=e[u]),o?De(n,u,c):He(n,u,c)}return n};var We=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var Xe=function(e){return _(e)&&"[object Arguments]"==m(e)},Qe=Object.prototype,Ge=Qe.hasOwnProperty,Je=Qe.propertyIsEnumerable,Ye=Xe(function(){return arguments}())?Xe:function(e){return _(e)&&Ge.call(e,"callee")&&!Je.call(e,"callee")};var Ze=function(){return!1},$e=o(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n?c.Buffer:void 0,i=(o?o.isBuffer:void 0)||Ze;e.exports=i}),et=/^(?:0|[1-9]\d*)$/;var tt=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&et.test(e))&&-1<e&&e%1==0&&e<t};var nt=function(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=9007199254740991},rt={};rt["[object Float32Array]"]=rt["[object Float64Array]"]=rt["[object Int8Array]"]=rt["[object Int16Array]"]=rt["[object Int32Array]"]=rt["[object Uint8Array]"]=rt["[object Uint8ClampedArray]"]=rt["[object Uint16Array]"]=rt["[object Uint32Array]"]=!0,rt["[object Arguments]"]=rt["[object Array]"]=rt["[object ArrayBuffer]"]=rt["[object Boolean]"]=rt["[object DataView]"]=rt["[object Date]"]=rt["[object Error]"]=rt["[object Function]"]=rt["[object Map]"]=rt["[object Number]"]=rt["[object Object]"]=rt["[object RegExp]"]=rt["[object Set]"]=rt["[object String]"]=rt["[object WeakMap]"]=!1;var ot=function(e){return _(e)&&nt(e.length)&&!!rt[m(e)]};var it=function(t){return function(e){return t(e)}},at=o(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n&&u.process,i=function(){try{var e=r&&r.require&&r.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=i}),ut=at&&at.isTypedArray,ct=ut?it(ut):ot,st=Object.prototype.hasOwnProperty;var pt=function(e,t){var n=y(e),r=!n&&Ye(e),o=!n&&!r&&$e(e),i=!n&&!r&&!o&&ct(e),a=n||r||o||i,u=a?We(e.length,String):[],c=u.length;for(var s in e)!t&&!st.call(e,s)||a&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||tt(s,c))||u.push(s);return u},lt=Object.prototype;var ft=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||lt)};var vt=function(t,n){return function(e){return t(n(e))}},ht=vt(Object.keys,Object),dt=Object.prototype.hasOwnProperty;var gt=function(e){if(!ft(e))return ht(e);var t=[];for(var n in Object(e))dt.call(e,n)&&"constructor"!=n&&t.push(n);return t};var yt=function(e){return null!=e&&nt(e.length)&&!k(e)};var bt=function(e){return yt(e)?pt(e):gt(e)};var At=function(e,t){return e&&Le(t,bt(t),e)};var mt=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},_t=Object.prototype.hasOwnProperty;var wt=function(e){if(!E(e))return mt(e);var t=ft(e),n=[];for(var r in e)("constructor"!=r||!t&&_t.call(e,r))&&n.push(r);return n};var jt=function(e){return yt(e)?pt(e,!0):wt(e)};var Ot=function(e,t){return e&&Le(t,jt(t),e)},Ct=o(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n?c.Buffer:void 0,i=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=i?i(n):new e.constructor(n);return e.copy(r),r}});var Et=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};var xt=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i};var kt=function(){return[]},St=Object.prototype.propertyIsEnumerable,Mt=Object.getOwnPropertySymbols,Pt=Mt?function(t){return null==t?[]:(t=Object(t),xt(Mt(t),function(e){return St.call(t,e)}))}:kt;var Rt=function(e,t){return Le(e,Pt(e),t)};var Tt=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e},zt=vt(Object.getPrototypeOf,Object),qt=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Tt(t,Pt(e)),e=zt(e);return t}:kt;var Ft=function(e,t){return Le(e,qt(e),t)};var Bt=function(e,t,n){var r=t(e);return y(e)?r:Tt(r,n(e))};var Nt=function(e){return Bt(e,bt,Pt)};var It=function(e){return Bt(e,jt,qt)},Kt=D(c,"DataView"),Vt=D(c,"Promise"),Dt=D(c,"Set"),Ut=D(c,"WeakMap"),Ht="[object Map]",Lt="[object Promise]",Wt="[object Set]",Xt="[object WeakMap]",Qt="[object DataView]",Gt=T(Kt),Jt=T(se),Yt=T(Vt),Zt=T(Dt),$t=T(Ut),en=m;(Kt&&en(new Kt(new ArrayBuffer(1)))!=Qt||se&&en(new se)!=Ht||Vt&&en(Vt.resolve())!=Lt||Dt&&en(new Dt)!=Wt||Ut&&en(new Ut)!=Xt)&&(en=function(e){var t=m(e),n="[object Object]"==t?e.constructor:void 0,r=n?T(n):"";if(r)switch(r){case Gt:return Qt;case Jt:return Ht;case Yt:return Lt;case Zt:return Wt;case $t:return Xt}return t});var tn=en,nn=Object.prototype.hasOwnProperty;var rn=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&nn.call(e,"index")&&(n.index=e.index,n.input=e.input),n},on=c.Uint8Array;var an=function(e){var t=new e.constructor(e.byteLength);return new on(t).set(new on(e)),t};var un=p?p.prototype:void 0;un&&un.valueOf;var cn=function(e,t){var n=t?an(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};var sn=Object.create,pn=function(){function n(){}return function(e){if(!E(e))return{};if(sn)return sn(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();var ln=function(e){return"function"!=typeof e.constructor||ft(e)?{}:pn(zt(e))};var fn=function(e){return _(e)&&"[object Map]"==tn(e)},vn=at&&at.isMap,hn=vn?it(vn):fn;var dn=function(e){return _(e)&&"[object Set]"==tn(e)},gn=at&&at.isSet,yn=gn?it(gn):dn,bn=1,An=2,mn=4,_n="[object Arguments]",wn="[object Function]",jn="[object GeneratorFunction]",On="[object Object]";var Cn=function n(r,o,i,e,t,a){var u,c=o&bn,s=o&An,p=o&mn;if(i&&(u=t?i(r,e,t,a):i(r)),void 0!==u)return u;if(!E(r))return r;var l=y(r);if(l){if(u=rn(r),!c)return Et(r,u)}else{var f=tn(r),v=f==wn||f==jn;if($e(r))return Ct(r,c);if(f!=On&&f!=_n&&(!v||t))return t?r:{};if(u=s||v?{}:ln(r),!c)return s?Ft(r,Ot(u,r)):Rt(r,At(u,r))}a||(a=new Ie);var h=a.get(r);if(h)return h;if(a.set(r,u),yn(r))return r.forEach(function(e){u.add(n(e,o,i,e,r,a))}),u;if(hn(r))return r.forEach(function(e,t){u.set(t,n(e,o,i,t,r,a))}),u;var d=p?s?It:Nt:s?keysIn:bt,g=l?void 0:d(r);return Ke(g||r,function(e,t){g&&(e=r[t=e]),He(u,t,n(e,o,i,t,r,a))}),u};var En=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};var xn=function(e,t,n){var r=-1,o=e.length;t<0&&(t=o<-t?0:o+t),(n=o<n?o:n)<0&&(n+=o),o=n<t?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i};var kn=function(e,t){return t.length<2?e:Re(e,xn(t,0,-1))};var Sn=function(e,t){return t=Me(t,e),null==(e=kn(e,t))||delete e[Pe(En(t))]},Mn=Function.prototype,Pn=Object.prototype,Rn=Mn.toString,Tn=Pn.hasOwnProperty,zn=Rn.call(Object);var qn=function(e){if(!_(e)||"[object Object]"!=m(e))return!1;var t=zt(e);if(null===t)return!0;var n=Tn.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Rn.call(n)==zn};var Fn=function(e){return qn(e)?void 0:e},Bn=p?p.isConcatSpreadable:void 0;var Nn=function(e){return y(e)||Ye(e)||!!(Bn&&e&&e[Bn])};var In=function e(t,n,r,o,i){var a=-1,u=t.length;for(r||(r=Nn),i||(i=[]);++a<u;){var c=t[a];0<n&&r(c)?1<n?e(c,n-1,r,o,i):Tt(i,c):o||(i[i.length]=c)}return i};var Kn=function(e){return null!=e&&e.length?In(e,1):[]};var Vn=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},Dn=Math.max;var Un=function(i,a,u){return a=Dn(void 0===a?i.length-1:a,0),function(){for(var e=arguments,t=-1,n=Dn(e.length-a,0),r=Array(n);++t<n;)r[t]=e[a+t];t=-1;for(var o=Array(a+1);++t<a;)o[t]=e[t];return o[a]=u(r),Vn(i,this,o)}};var Hn=function(e){return function(){return e}};var Ln=function(e){return e},Wn=Ve?function(e,t){return Ve(e,"toString",{configurable:!0,enumerable:!1,value:Hn(t),writable:!0})}:Ln,Xn=Date.now;var Qn=function(n){var r=0,o=0;return function(){var e=Xn(),t=16-(e-o);if(o=e,0<t){if(800<=++r)return arguments[0]}else r=0;return n.apply(void 0,arguments)}}(Wn);Gn=function(t,e){var n={};if(null==t)return n;var r=!1;e=Oe(e,function(e){return e=Me(e,t),r||(r=1<e.length),e}),Le(t,It(t),n),r&&(n=Cn(n,7,Fn));for(var o=e.length;o--;)Sn(n,e[o]);return n},Qn(Un(Gn,void 0,Kn),Gn+"");var Gn;var Jn=function(e,t,n){(void 0===n||ee(e[t],n))&&(void 0!==n||t in e)||De(e,t,n)};var Yn=function(c){return function(e,t,n){for(var r=-1,o=Object(e),i=n(e),a=i.length;a--;){var u=i[c?a:++r];if(!1===t(o[u],u,o))break}return e}}();var Zn=function(e){return _(e)&&yt(e)};var $n=function(e,t){return"__proto__"==t?void 0:e[t]};var er=function(e){return Le(e,jt(e))};var tr=function(e,t,n,r,o,i,a){var u=$n(e,n),c=$n(t,n),s=a.get(c);if(s)Jn(e,n,s);else{var p=i?i(u,c,n+"",e,t,a):void 0,l=void 0===p;if(l){var f=y(c),v=!f&&$e(c),h=!f&&!v&&ct(c);p=c,f||v||h?p=y(u)?u:Zn(u)?Et(u):v?Ct(c,!(l=!1)):h?cn(c,!(l=!1)):[]:qn(c)||Ye(c)?Ye(p=u)?p=er(u):(!E(u)||r&&k(u))&&(p=ln(c)):l=!1}l&&(a.set(c,p),o(p,c,r,i,a),a.delete(c)),Jn(e,n,p)}};var nr=function r(o,i,a,u,c){o!==i&&Yn(i,function(e,t){if(E(e))c||(c=new Ie),tr(o,i,t,a,r,u,c);else{var n=u?u($n(o,t),e,t+"",o,i,c):void 0;void 0===n&&(n=e),Jn(o,t,n)}},jt)};var rr=function(e,t){return Qn(Un(e,t,Ln),e+"")};var or=function(e,t,n){if(!E(n))return!1;var r=typeof t;return!!("number"==r?yt(n)&&tt(t,n.length):"string"==r&&t in n)&&ee(n[t],e)};var ir=function(u){return rr(function(e,t){var n=-1,r=t.length,o=1<r?t[r-1]:void 0,i=2<r?t[2]:void 0;for(o=3<u.length&&"function"==typeof o?(r--,o):void 0,i&&or(t[0],t[1],i)&&(o=r<3?void 0:o,r=1),e=Object(e);++n<r;){var a=t[n];a&&u(e,a,n,o)}return e})},ar=(ir(function(e,t,n){nr(e,t,n)}),ir(function(e,t,n,r){nr(e,t,n,r)})),ur=Object.prototype.hasOwnProperty;ir(function(e,t){if(ft(t)||yt(t))Le(t,bt(t),e);else for(var n in t)ur.call(t,n)&&He(e,n,t[n])});var cr=function(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1};var sr=function(e){return e!=e};var pr=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1};var lr=function(e,t,n){return t==t?pr(e,t,n):cr(e,sr,n)},fr=!__DEV__,vr=fr?"http://0.0.0.0:3000/api/v1":"https://www.actoservice.com/api/v1",hr=function(n){return function(e){var t=e.configMap;return Te(Te(t,n),"value",Te(t,n+".defaultValue"))}},dr=function(n){return function(e){var t=e.configMap;return Te(t,n+".type")}},gr=function(n){return function(e){var t=e.configMap;return Te(t,n+".max")}},yr=function(n){return function(e){var t=e.configMap;return Te(t,n+".min")}},br=function(n){return function(e){var t=e.configMap;return Te(Te(t,n),"title",Te(t,n+".__title__"))}},Ar=function(){return window.self!==window.top},mr=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},_r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),wr=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},jr=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},Or=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},Cr=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},Er=s.createContext(),xr=Er.Provider,kr=Er.Consumer,Sr="__ACTOSERVICE__ACTION__",Mr="AS:sdk:change_edit",Pr="AS:sdk:update_config",Rr=require("prop-types"),Tr=function(e){function n(e){mr(this,n);var t=Or(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={configMap:window.__ACTOSERVICE__SCHEME__,isEditing:e.editing||Ar()},window.__ACTOSERVICE__SCHEME__=null,t.updateConfig=t.updateConfig.bind(t),t}return jr(n,e),_r(n,[{key:"componentDidMount",value:function(){var t=this,e=this.props.scheme;this.injectCSS(),Ar()&&this._registerListener(),this.props.scheme||this.state.configMap?this.state.configMap||(E(e)&&this.setState({configMap:e}),"string"==typeof e&&fetch(e).then(function(e){return e.json()}).then(function(e){return t.setState({configMap:e})}).catch(function(e){return console.error("Cant find configMap")})):console.error("Scheme is not specified")}},{key:"injectCSS",value:function(){var e=document.createElement("style");e.innerHTML="\n\n  .lds-ripple {\n    display: inline-block;\n    position: relative;\n    width: 64px;\n    height: 64px;\n  }\n  .lds-ripple div {\n    position: absolute;\n    border: 4px solid #fff;\n    opacity: 1;\n    border-radius: 50%;\n    animation: lds-ripple 1s cubic-bezier(0, 0.2, 0.8, 1) infinite;\n  }\n  .lds-ripple div:nth-child(2) {\n    animation-delay: -0.5s;\n  }\n  @keyframes lds-ripple {\n    0% {\n      top: 28px;\n      left: 28px;\n      width: 0;\n      height: 0;\n      opacity: 1;\n    }\n    100% {\n      top: -1px;\n      left: -1px;\n      width: 58px;\n      height: 58px;\n      opacity: 0;\n    }\n  }\n\n\n  @-webkit-keyframes pulse {\n    0% {\n      -webkit-box-shadow: 0 0 0 0 rgba(204,169,44, 0.4);\n    }\n    70% {\n        -webkit-box-shadow: 0 0 0 10px rgba(204,169,44, 0);\n    }\n    100% {\n        -webkit-box-shadow: 0 0 0 0 rgba(204,169,44, 0);\n    }\n  }\n  @keyframes pulse {\n    0% {\n      -moz-box-shadow: 0 0 0 0 #0a6c8f;\n      box-shadow: 0 0 0 0 #0a6c8f;\n    }\n    70% {\n        -moz-box-shadow: 0 0 0 10px rgba(204,169,44, 0);\n        box-shadow: 0 0 0 10px rgba(204,169,44, 0);\n    }\n    100% {\n        -moz-box-shadow: 0 0 0 0 rgba(204,169,44, 0);\n        box-shadow: 0 0 0 0 rgba(204,169,44, 0);\n    }\n  }\n  .body {\n    padding: 0;\n    margin: 0;\n  }\n  .as-action-hint {\n    z-index: 9999;\n    animation: pulse 2s infinite;\n  }\n  .Popover {\n    z-index: 22;\n  }\n  .Popover-body {\n    display: inline-flex;\n    flex-direction: column;\n    padding: 2rem 4rem;\n    background: hsl(0, 0%, 27%);\n    color: white;\n    border-radius: 0.3rem;\n  }\n  \n  .Popover-tipShape {\n    fill: hsl(0, 0%, 27%);\n  }\n  .Target {\n    -webkit-user-select: none;\n    position: relative;\n    display: inline-block;\n    color: hsla(0, 0%, 0%, 0.45);\n    color: white;\n    white-space: pre-wrap;\n    text-align: center;\n    text-transform: uppercase;\n    border-radius: 0.2rem;\n    overflow: hidden;\n  }\n  \n  .Target-Move {\n    padding: 1rem;\n    cursor: move;\n    border-bottom: 1px solid white;\n    background: hsl(173, 69%, 48%);\n  }\n  \n  .Target-Toggle {\n    display: block;\n    padding: 1rem;\n    cursor: pointer;\n    background: hsl(346, 62%, 55%);\n  }\n  .Target.is-open .Target-Toggle {\n    background: hsl(346, 80%, 50%);\n  }\n",document.head.appendChild(e)}},{key:"_isASAction",value:function(e){var t=Te(e,Sr);return!!t&&[Mr,Pr].includes(t)}},{key:"_registerListener",value:function(){var r=this;window.onmessage=function(e){var t=e.origin,n=e.data;if(console.log("message received",t,n),r._isASAction(n))switch(Te(n,Sr)){case Mr:r.setState({editing:Te(n,"payload")});break;case Pr:r.updateConfig(Te(n,"payload"));break;default:console.warn("Wrong action received",n)}}}},{key:"updateConfig",value:function(t){var n=this,e=ar(this.state.configMap,t,function(e,t){return Array.isArray(t)?t:void 0});this.setState({configMap:e},function(){var e;"parent"in window&&parent.postMessage((wr(e={},Sr,"AS:sdk:notify_updates"),wr(e,"payload",{updates:t,result:n.state.configMap}),e),"*")})}},{key:"render",value:function(){var e=this.state,t=e.configMap,n=e.isEditing,r=this.props.children;return s.createElement(xr,{value:{configMap:t,isEditing:n,apiKey:this.props.apiKey,updateConfig:this.updateConfig}},s.Children.only(r))}}]),n}(s.Component);Tr.propTypes={editing:Rr.bool,apiKey:Rr.string,scheme:Rr.oneOfType([Rr.string,Rr.object]).isRequired};var zr=function(e,t,n,r){if(!E(e))return e;for(var o=-1,i=(t=Me(t,e)).length,a=i-1,u=e;null!=u&&++o<i;){var c=Pe(t[o]),s=n;if(o!=a){var p=u[c];void 0===(s=r?r(p,c,u):void 0)&&(s=E(p)?p:tt(t[o+1])?[]:{})}He(u,c,s),u=u[c]}return e};var qr=function(e,t,n){return null==e?e:zr(e,t,n)},Fr=Object.prototype.hasOwnProperty;var Br=function(e){if(null==e)return!0;if(yt(e)&&(y(e)||"string"==typeof e||"function"==typeof e.splice||$e(e)||ct(e)||Ye(e)))return!e.length;var t=tn(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(ft(e))return!gt(e).length;for(var n in e)if(Fr.call(e,n))return!1;return!0},Nr=require("prop-types");function Ir(e){var t=e.title,n=e.value,r=e.onChange;return s.createElement("div",null,s.createElement("span",null,t),s.createElement("input",{value:n,onChange:r}))}Ir.propTypes={title:Nr.string,value:Nr.string,onChange:Nr.func.isRequired};var Kr=new Image;Kr.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAFDmAABQ5gFtNX1WAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAD9QTFRF////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAxQXeHgAAABR0Uk5TAAwREi1DSGKdpayvsba/w87j5ugHttgJAAACCElEQVR42u2b23KCQBBER24iJAik//9b8xAtRRe5bU9XpZZXrTmnlMvsMm32OMpmGNvKqMf5+2doyuBHpxoAgEvGw2dff4z6FOBfcTv6nMXP+zvjeprn8wwe/HeDZz7L4Jn/ajDlcwym/KnBK59h8Mp/Nnjnxzd45z8MQvzYBiH+3SDMj2sQ5t8MaoBtMMcHarMSYBvM84HSGrANPvHR2ACywUc+BhvBNfjMx2gtqAYLfLRWgWmwxEdldiEaLPIvZpb1NINFfp+t+1rO4ucbv0jikww2FSUYbCwZ3WBzwcgGO8pFNdhVLKLBzlLRDHYXimRwoEwUg0NFIhgcLHHYQF1A/ROqTyL1ZaS+kahvpeqHifpxqm4o1C2VuqlUt9XqhUWuXFoVZgWPv8IAXQcif40Bl3/cgL7FQucfM3DYZnPg7zfw2Gr14e8z8Nhu9+NvN/B45eLL32bg8drNn7/ewOPVq4ZvVqwRKIx4dMv8zv6zgPovUJ+E6stQfSNS34rVDyP141jdkKhbMnVTqm7L1QsT9dJMvThVL8/VGxTqLRr1JpV6my7NH6T5gzR/kOYP0vxBmj9I8wdp/iDNH6T5gzR/kOYPvBYW8tFu9XC7fLxfHnCQRzzkIRd5zEcedJJHvfRhN3ncTx941Ec+9aFXfexXH3zWR7+dwu+35iMUfjef+H/VjtP4/y87VybSF5FlxgAAAABJRU5ErkJggg==";var Vr=new(function(){function e(){mr(this,e),this.apiKey=null}return _r(e,[{key:"key",value:function(e){return this.apiKey=e,this}},{key:"uploadThemeResource",value:function(e,n){if(!fr)return new Promise(function(e){var t=new FileReader;t.onload=function(){return e(t.result)},setTimeout(function(){return t.readAsDataURL(n)},1e3)});var t=new FormData;return t.append(e,n),fetch(vr+"/themes/resource",{method:"POST",headers:{"X-API-Key":this.apiKey},body:t}).then(function(e){if(e.ok)return e.json();throw e}).then(function(e){return e[0].url})}}]),e}()),Dr=require("prop-types"),Ur=function(e){function n(e){mr(this,n);var t=Or(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={uploading:!1,error:!1},t._mounted=!1,t.fileInputRef=s.createRef(),t.onChange=t.onChange.bind(t),t.onSelect=t.onSelect.bind(t),t.renderTiles=t.renderTiles.bind(t),t.remove=t.remove.bind(t),t}return jr(n,e),_r(n,[{key:"componentDidMount",value:function(){this._mounted=!0}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"onChange",value:function(e){var n=this,t=this.props,r=t.array,o=t.apiKey,i=(new FileReader,e.target.files[0]);this._mounted&&this.setState({uploading:!0}),Vr.key(o).uploadThemeResource(this.props.path,i).then(function(e){n._mounted&&n.setState({uploading:!1});var t={target:{value:r?[].concat(Cr(n.props.value),[e]):e}};n.props.onChange(t)}).catch(function(){n._mounted&&n.setState({error:!0,loading:!1})})}},{key:"remove",value:function(e){var t=[].concat(Cr(this.props.value));t.splice(e,1),this.props.onChange({target:{value:t}})}},{key:"renderTiles",value:function(){var n=this,e=this.props.value,t=this.state.uploading,r=e.map(function(e,t){return s.createElement("div",{key:t,style:{backgroundSize:"cover",backgroundPosition:"center center",backgroundImage:"url("+e+")",backgroundRepeat:"no-repeat",display:"inline-block",width:"100px",height:"100px",position:"relative",marginRight:"10px"}},s.createElement("img",{src:Kr.src,onClick:function(){return n.remove(t)},style:{cursor:"pointer",position:"absolute",width:"20px",height:"20px",padding:"5px",backgroundColor:"white",borderRadius:20,top:-10,right:-10}}))});return t&&r.push(s.createElement("div",{className:"lds-ripple",key:"uploading-loader-"+r.length},s.createElement("div",null),s.createElement("div",null))),s.createElement(s.Fragment,null,r)}},{key:"onSelect",value:function(){this.fileInputRef.current.click()}},{key:"render",value:function(){var e=this.props,t=e.title,n=(e.value,e.array),r=this.state.uploading;return s.createElement("div",{style:{display:"flex",alignItems:"center"}},s.createElement("span",null,t),s.createElement("button",{onClick:this.onSelect},"Select File"),s.createElement("input",{ref:this.fileInputRef,style:{display:"none"},type:"file",name:"",multiple:!1,accept:"image/x-png,image/gif,image/jpeg",onChange:this.onChange}),n&&this.renderTiles(),!n&&r&&s.createElement("div",{className:"lds-ripple",key:"uploading-loader"},s.createElement("div",null),s.createElement("div",null)))}}]),n}(s.Component);Ur.propTypes={path:Dr.string,array:Dr.bool,title:Dr.string,value:Dr.oneOfType([Dr.string,Dr.arrayOf(Dr.string)]),onChange:Dr.func.isRequired};var Hr=require("prop-types");function Lr(e){var t=e.title,n=e.value,r=e.onChange;return s.createElement("div",null,s.createElement("span",null,t),s.createElement("input",{type:"color",value:n,onChange:r}))}Lr.propTypes={title:Hr.string,value:Hr.string,onChange:Hr.func.isRequired};var Wr=require("prop-types");function Xr(e){var t=e.title,n=e.value,r=e.onChange;return s.createElement("div",null,s.createElement("span",null,t),s.createElement("input",{type:"number",value:n,onChange:r}))}Xr.propTypes={title:Wr.string,value:Wr.string,onChange:Wr.func.isRequired};var Qr=require("prop-types");function Gr(e){var t=e.title,n=e.value,r=e.onChange;return s.createElement("div",null,s.createElement("span",null,t),s.createElement("input",{type:"phone",value:n,onChange:r}))}Gr.propTypes={title:Qr.string,value:Qr.string,onChange:Qr.func.isRequired};var Jr=require("prop-types"),Yr=function(e){function n(e){mr(this,n);var t=Or(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.onChange=t.onChange.bind(t),t}return jr(n,e),_r(n,[{key:"onChange",value:function(e){this.props.onChange({target:{value:!Boolean(this.props.value)}})}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.value;return s.createElement("div",null,s.createElement("span",null,t),s.createElement("input",{type:"checkbox",onChange:this.onChange,checked:n}))}}]),n}(s.Component);Yr.propTypes={title:Jr.string,value:Jr.bool,onChange:Jr.func.isRequired};var Zr,$r="AS:string",eo="AS:number",to="AS:color",no="AS:phone",ro="AS:image",oo="AS:bool",io="AS:array:image",ao="AS:array:string",uo="AS:array:number",co=[$r,eo,to,no,ro,oo,io,ao,uo],so=require("prop-types"),po=(wr(Zr={},to,{component:Lr}),wr(Zr,$r,{component:Ir}),wr(Zr,ro,{component:Ur}),wr(Zr,eo,{component:Xr}),wr(Zr,no,{component:Gr}),wr(Zr,oo,{component:Yr}),wr(Zr,io,{component:Ur,props:{array:!0}}),wr(Zr,uo,{component:Xr,props:{array:!0}}),wr(Zr,ao,{component:Ir,props:{array:!0}}),Zr),lo=function(e){function n(e){mr(this,n);var t=Or(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.onChange=t.onChange.bind(t),t}return jr(n,e),_r(n,[{key:"onChange",value:function(e){this.props.onChange(this.props.path,e.target.value)}},{key:"render",value:function(){var e=this.props.type,t={title:this.props.title,value:this.props.value,onChange:this.onChange,path:this.props.path,apiKey:this.props.apiKey},n=po[e];if(!n)throw new Error("Wrong action type: "+e);var r=n.props,o=n.component;return Object.assign(t,r),s.createElement(o,t)}}]),n}(s.PureComponent);lo.propTypes={path:so.string.isRequired,type:so.oneOf(co),value:so.any,title:so.string,apiKey:so.string,onChange:so.func.isRequired};var fo=require("prop-types"),vo=require("react-popover"),ho=function(e){function n(e){mr(this,n);var t=Or(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={openAction:!1},t.openAction=t.openAction.bind(t),t.closeActions=t.closeActions.bind(t),t.generateComponentAction=t.generateComponentAction.bind(t),t.handleChange=t.handleChange.bind(t),t}return jr(n,e),_r(n,[{key:"openAction",value:function(e){e.preventDefault(),Br(n.lastOpenPopover)||n.lastOpenPopover===this||n.lastOpenPopover.closeActions(),(n.lastOpenPopover=this).setState({openAction:!0})}},{key:"closeActions",value:function(){this.setState({openAction:!1})}},{key:"handleChange",value:function(e,t){var n={};qr(n,e+".value",t),this.props.actoservice.updateConfig(n)}},{key:"generateComponentAction",value:function(){var t=this,e=this.props.actoservice,n=e.paths,r=e.scheme;return n.map(function(e){return s.createElement(lo,{key:e,path:e,max:gr(e)({configMap:r}),min:yr(e)({configMap:r}),title:br(e)({configMap:r}),onChange:t.handleChange,apiKey:t.props.apiKey,type:dr(e)({configMap:r}),value:hr(e)({configMap:r})})})}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.wrapper,r=this.props.actoservice,o=a.cloneElement(this.props.children,{actoservice:{scheme:r.scheme}});if(!r.isEditing)return o;var i=n?s.createElement("div",{className:Te(t,"innerContainer","")},o):o;return s.createElement("div",{className:"as-action-cntr "+Te(t,"container",""),onMouseOver:this.openAction,style:{position:"relative",transition:"200ms box-shadow",boxShadow:this.state.openAction?"2px 2px 36px -1px rgba(0,0,0,0.75)":"none"}},s.createElement("div",{className:"as-action-hint "+Te(t,"hint",""),style:{position:"absolute",top:-10,right:-10,width:20,height:20,borderRadius:10,backgroundColor:"#0a6c8f",opacity:this.state.openAction?0:1,transition:"200ms opacity",boxShadow:"2px 2px 36px -1px rgba(0,0,0,0.75)"}}),s.createElement(vo,{preferPlace:"below",isOpen:this.state.openAction,body:this.generateComponentAction(),onOuterAction:this.closeActions,enterExitTransitionDurationMs:100},i))}}]),n}(s.PureComponent);ho.lastOpenPopover=null,ho.propTypes={apiKey:fo.string.isRequired,wrapper:fo.bool,classes:fo.shape({container:fo.string,hint:fo.string}),actoservice:fo.shape({paths:fo.arrayOf(fo.string).isRequired,schemes:fo.object,updateConfig:fo.func.isRequired,isEditing:fo.bool.isRequired}).isRequired};var go=function(e){return this.__data__.has(e)};function yo(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ye;++t<n;)this.add(e[t])}yo.prototype.add=yo.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},yo.prototype.has=go;var bo=yo;var Ao=function(e,t){return!(null==e||!e.length)&&-1<lr(e,t,0)};var mo=function(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1};var _o=function(e,t){return e.has(t)};var wo=function(){};var jo=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n},Oo=Dt&&1/jo(new Dt([,-0]))[1]==1/0?function(e){return new Dt(e)}:wo;var Co=function(e,t,n){var r=-1,o=Ao,i=e.length,a=!0,u=[],c=u;if(n)a=!1,o=mo;else if(200<=i){var s=t?null:Oo(e);if(s)return jo(s);a=!1,o=_o,c=new bo}else c=t?[]:u;e:for(;++r<i;){var p=e[r],l=t?t(p):p;if(p=n||0!==p?p:0,a&&l==l){for(var f=c.length;f--;)if(c[f]===l)continue e;t&&c.push(l),u.push(p)}else o(c,l,n)||(c!==u&&c.push(l),u.push(p))}return u};var Eo=function(e){return e&&e.length?Co(e):[]};e.default=Tr,e.withBind=function(c){return function(u){var e=u.displayName||u.name||"Unknown";c.length!==Eo(c).length&&console.warn("\n        You're trying to get Actoservice value multiple times,\n        Please restructure this to get it once in component: "+e+"\n      ");var t=function(e){function t(){return mr(this,t),Or(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return jr(t,e),_r(t,[{key:"render",value:function(){var a=this;return s.createElement(kr,null,function(e){var t=e.configMap,n=e.isEditing,r=e.updateConfig,o=e.apiKey,i={};return c.forEach(function(e){qr(i,e+".value",hr(e)({configMap:t})),qr(i,e+".title",br(e)({configMap:t})),qr(i,e+".type",dr(e)({configMap:t})),qr(i,e+".max",gr(e)({configMap:t})),qr(i,e+".min",yr(e)({configMap:t}))}),s.createElement(ho,{classes:a.props.classes,wrapper:a.props.wrapper,apiKey:o,actoservice:{paths:c,scheme:i,updateConfig:r,isEditing:n}},s.createElement(u,a.props))})}}]),t}(s.Component);return t.displayName="withBind ["+e+"]",t}},e.bindValue=function(e){return s.createElement(kr,null,hr(e))},e.Types=co,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=actoservice.js.map
